{"format":"Orc1","code":[56,96,-32,42,1,6,-113,16,1,-97,-128,32,1,-99,-124,0,0,-94,-125,48,0,0,-121,49,0,0,2,1,2,17,3,33,56,48,-32,52,56,32,-48,14,-64,52,-113,96,1,-97,-128,112,1,-99,0,18,-113,96,1,-101,-113,112,0,0,0,20,-124,-96,0,-96,-128,0,0,-96,-113,16,-1,-1,48,1,-32,-112,56,0,-32,-98,-113,0,0,0,-113,96,1,-101,-113,112,0,1,1,-128,-113,-112,0,-70,0,20,-113,96,0,-66,0,6,-113,32,0,1,-128,48,0,-70,48,35,-48,126,-113,96,0,-90,0,6,-113,96,0,-92,0,6,2,1,-128,16,0,-96,48,1,-48,86,-64,-98,-113,96,0,-88,-113,112,1,0,-113,48,0,-88,0,6,0,0],"data":[-1,-1,-1,-1,10,0,47,0,73,78,86,65,76,73,68,32,68,73,82,69,67,84,79,82,89,0,0,0,1,0,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,0,0,0,1,0,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,48,49,50,51,52,53,54,55,56,57,0],"graphics":[],"sourceName":"/src/utils/ls.asm","debugInfo":{"debugStrings":[],"assemblyFile":"/src/utils/ls.asm","assemblySource":".data\n   count: -1\n   path: -1\n   newline: \"\\n\"\n   slash: \"/\"\n   invalid_dir: \"INVALID DIRECTORY\"\n\nfile:\n   # Output Directory Entry\n   file_flags: 0\n   file_name_size: 256\n   file_name: \"0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\"\n\ndir:\n   # Input Directory Entry\n   dir_flags: 0\n   dir_name_size: 256\n   dir_name: \"0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\"\n\n\n.text\nmain:\n  # Check if a path was passed\n  eqi a0  0\n  jnz get_cwd\n\n  mov t0  a0\n  li  t1  dir_name\n  lw  t2  dir_name_size\n\nloop_dir_load:\n  sw  t0  path\n  lbo t3  t0  0\n  sbo t3  t1  0\n\n  inc t0\n  inc t1\n  dec t2\n\n  # NULL terminator found\n  eqi t3  0\n  jnz start\n\n  # Check max size\n  eqi t2  0\n  jz  loop_dir_load\n\n  j   start\n\nget_cwd:\n  # Get current working directory\n  li  a0  dir_name\n  lw  a1  dir_name_size\n\n  sys cwd\n\nstart:\n  li  a0  dir\n  li  a1  0\n  \n  sys dirent\n\n  sw  rv  count\n  lw  t0  count\n  li  t1  -1\n  eq  t0  t1\n  jnz print_invalid_dir\n\n  # If no files, jump to end\n  eqi t0  0\n  jnz done\n\n  # loop over files\n  li  t0  0\n\nloop_file_list:\n  li  a0 dir\n  li  a1  1\n  mov a2  t0\n  li  a3  file\n\n  sys dirent\n\n  li  a0  file_name\n  sys wstr\n\n  # Print / if directory\n  li  t2  1\n  lw  t3  file_flags\n  eq  t2  t3\n  jz  print_newline\n\n  li  a0  slash\n  sys wstr\n\nprint_newline:\n  li  a0  newline\n  sys wstr\n    \n  inc t0\n  lw  t1  count\n  eq  t0  t1\n  jz  loop_file_list\n  \n  j   done\n\nprint_invalid_dir:\n  li  a0  invalid_dir\n  li  a1  256\n  li  t3  invalid_dir\n  sys wstr\n  \ndone:\n  sys exit\n","assemblyLineNumbers":[24,24,25,25,27,27,28,28,28,28,29,29,29,29,32,32,32,32,33,33,33,33,34,34,34,34,36,36,37,37,38,38,41,41,42,42,45,45,46,46,48,48,52,52,52,52,53,53,53,53,55,55,58,58,58,58,59,59,59,59,61,61,63,63,63,63,64,64,64,64,65,65,65,65,66,66,67,67,70,70,71,71,74,74,74,74,77,77,77,77,78,78,78,78,79,79,80,80,80,80,82,82,84,84,84,84,85,85,88,88,88,88,89,89,89,89,90,90,91,91,93,93,93,93,94,94,97,97,97,97,98,98,100,100,101,101,101,101,102,102,103,103,105,105,108,108,108,108,109,109,109,109,110,110,110,110,111,111,114,114],"originalFile":"","originalLineNumbers":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"globals":[],"locals":[[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[]]}}